<!DOCTYPE HTML>
<HTML>
	<head>
		<title>Pruebas Ficheros</title>
		<meta charset="UTF-8"/>
		<link rel="stylesheet" type="text/css" href="style.css"/>
	</head>
	<body>
		<div id="divInputFichero">
			<input type="file" name="inputFichero" id="inputFichero" onchange="procesarFichero(this.files)"/>
		</div>

		<div id="divContenidoFichero">
			<p id= "nombreFichero"></p>

			<p id="extensionFichero"></p>

			<p id="contenidoFichero"></p>
		</div>
			
		<script type="text/javascript">
			function procesarFichero(ficheros){
				var fichero = ficheros[0];

				obtenerNombreFichero(fichero);
				obtenerExtensionFichero(fichero);
				leerFichero(fichero);
			}

			function obtenerNombreFichero(fichero){
				var nomFichero;

				nomFichero = (fichero.name).substring(0,fichero.name.length-4);

				document.getElementById("nombreFichero").innerHTML = "Nombre del fichero: " + nomFichero;
			}

			function obtenerExtensionFichero(fichero){
				var extFichero;

				extFichero = (fichero.name).substring(fichero.name.length-4,fichero.name.length);

				document.getElementById("extensionFichero").innerHTML = "Extensi√≥n del fichero: " + extFichero;
			}

			function leerFichero(fichero){
				var lectorFichero = new FileReader();

				lectorFichero.readAsText(fichero);

				lectorFichero.onload = function(e){
					//Forma 1 de devolver
					document.getElementById("contenidoFichero").innerHTML = "Contenido del fichero: " + e.target.result;

					//Forma 2 de devolver
					/*var salida = document.getElementById("contenidoFichero");
					salida.textContent = "Contenido del fichero: " + e.target.result;*/
				}
			}
		</script>
	</body>
</HTML>
